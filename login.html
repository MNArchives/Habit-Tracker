<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Habiit - Sign In</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container min-vh-100 d-flex align-items-center justify-content-center py-5">
        <div class="login-container">
            <div class="card">
                <div class="card-body p-4 p-md-5">
                    <div class="login-header">
                        <h2 class="text-gradient mb-3">Sign in to Habiit</h2>
                    </div>
                    
                    <button class="social-btn w-100">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg" alt="Google logo">
                        Sign in with Google
                    </button>
                    
                    <button class="social-btn w-100">
                        <i class="fab fa-apple me-2" style="font-size: 20px;"></i>
                        Sign in with Apple
                    </button>
                    
                    <div class="login-divider">
                        <span class="text-white-50 px-2">or</span>
                    </div>
                    
                    <form id="loginForm" action="dashboard.html" method="get" onsubmit="return handleLogin(event)">
                        <input type="text" id="username" class="login-input" placeholder="Email, phone, or username" required>
                        <input type="password" id="password" class="login-input" placeholder="Password" required>
                        
                        <button type="submit" class="login-btn">Sign in</button>
                    </form>
                    
                    <script>
                        function handleLogin(event) {
                            event.preventDefault();
                            
                            const email = document.getElementById('username').value;
                            const password = document.getElementById('password').value;
                            
                            // Check if this is Mufaro's credentials
                            if (email === 'mwnyabeze@gmail.com' && password === 'Wind123') {
                                // Check if this is first login
                                if (!localStorage.getItem('habiitUserData')) {
                                    // First login - redirect to profile setup
                                    window.location.href = 'profile-setup.html';
                                } else {
                                    // Returning user - update last login and go to dashboard
                                    const userData = JSON.parse(localStorage.getItem('habiitUserData'));
                                    userData.lastLogin = new Date().toISOString();
                                    localStorage.setItem('habiitUserData', JSON.stringify(userData));
                                    window.location.href = 'dashboard.html';
                                }
                            } else {
                                // For demo purposes, allow any login
                                window.location.href = 'dashboard.html';
                            }
                            
                            return false;
                        }
                    </script>
                    
                    <div class="login-links">
                        <a href="#">Forgot password?</a>
                        <a href="#">Sign up for Habiit</a>
                    </div>
                    
                    <div class="login-footer mt-4">
                        <p class="text-white-50">By signing in, you agree to our <a href="#" class="text-decoration-none">Terms</a> and <a href="#" class="text-decoration-none">Privacy Policy</a>.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
